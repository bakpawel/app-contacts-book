<app-header> <p content>Tu znajdują się Twoje kontakty.</p></app-header>

<table
  *ngIf="contacts.length > 0; else noContactsAlert"
  class="table table-striped table-sm table-hover"
>
  <thead class="thead-dark">
    <tr>
      <th>Lp.</th>
      <th>Imię</th>
      <th>Nazwisko</th>
      <th>Nr Telefonu</th>
      <th>Akcja</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="let contact of contacts; let i = index"
      class="pe-auto"
      (click)="goToContactDetails(i, $event)"
    >
      <th scope="row">{{ i + 1 }}</th>
      <td>{{ contact.name }}</td>
      <td>{{ contact.surname }}</td>
      <td>{{ contact.phone }}</td>
      <td>
        <button
          class="btn btn-success btn-sm me-sm-3"
          [routerLink]="['/contact-edit', i]"
        >
          <i class="fa fa-pencil"></i>
          Edytuj
        </button>
        <button
          class="btn btn-danger btn-sm mt-2 mt-sm-0"
          (click)="removeContact(i, $event)"
        >
          <i class="fa fa-trash-o"></i>
          Usuń
        </button>
      </td>
    </tr>
  </tbody>
</table>

<app-contacts-count [numberOfContacts]="contactsCount"></app-contacts-count>

<div class="col d-flex justify-content-center">
  <button class="btn btn-success btn-sm me-3" [routerLink]="['/contact-add']">
    Dodaj kontakt
  </button>

  <button
    (click)="hideContacts()"
    class="btn btn-warning btn-sm me-3"
    [disabled]="contacts.length === 0"
  >
    Ukryj kontakty
  </button>

  <button
    (click)="showContacts()"
    class="btn btn-primary btn-sm me-3"
    [disabled]="contactsCount"
  >
    Pokaż kontakty
  </button>
</div>
<div class="col d-flex justify-content-center my-2">
  <button
    (click)="onSaveContacts()"
    class="btn btn-secondary btn-sm me-3"
    [disabled]="!contactsCount"
  >
    Zapisz Kontakty
  </button>
  <button (click)="onFetchContacts()" class="btn btn-secondary btn-sm me-3">
    Załaduj Kontakty
  </button>
</div>
<ng-template #noContactsAlert>
  <p class="alert alert-warning show" role="alert">Aktualnie brak kontatków.</p>
</ng-template>
<hr />
<router-outlet></router-outlet>
